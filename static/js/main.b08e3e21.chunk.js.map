{"version":3,"sources":["service/Auth.js","components/Login/index.jsx","components/Home/index.jsx","components/Header/index.jsx","components/Searcher/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["AuthStateContext","React","createContext","AuthDispatchContext","initialState","isAuthenticated","token","localStorage","getItem","loginReducer","state","action","type","setItem","payload","clear","AuthProvider","children","useReducer","dispatch","Provider","value","useAuthDispatch","context","useContext","undefined","Error","Login","SignupSchema","Yup","shape","mail","email","required","password","min","max","values","a","axios","post","response","status","data","split","length","console","log","initialValues","validationSchema","onSubmit","userLog","errors","touched","name","placeholder","Home","Header","authDispatch","Navbar","bg","variant","Container","Brand","href","Nav","className","exact","activeClassName","to","Button","size","onClick","Searcher","SearchSchema","search","get","resp","searchHeroe","App","useAuthState","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b08e3e21.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst AuthStateContext = React.createContext();\r\nconst AuthDispatchContext = React.createContext();\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  token: null,\r\n};\r\n\r\nconst token = localStorage.getItem(\"token\");\r\nif (token) {\r\n  initialState.isAuthenticated = true;\r\n  initialState.token = token;\r\n}\r\n\r\nfunction loginReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      localStorage.setItem(\"token\", action.payload.token);\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        token: action.payload.token,\r\n      };\r\n    case \"LOGOUT\":\r\n      localStorage.clear();\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        token: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction AuthProvider({ children }) {\r\n  const [state, dispatch] = React.useReducer(loginReducer, initialState);\r\n  return (\r\n    <AuthStateContext.Provider value={state}>\r\n      <AuthDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </AuthDispatchContext.Provider>\r\n    </AuthStateContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useAuthState() {\r\n  const context = React.useContext(AuthStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuthState must be used within a AuthProvider\");\r\n  }\r\n  return context;\r\n}\r\nfunction useAuthDispatch() {\r\n  const context = React.useContext(AuthDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuthDispatch must be used within a AuthProvider\");\r\n  }\r\n  return context;\r\n}\r\nexport { AuthProvider, useAuthState, useAuthDispatch };\r\n","import React from \"react\";\r\nimport { useAuthDispatch } from \"../../service/Auth\";\r\nimport axios from \"axios\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nexport default function Login() {\r\n  const SignupSchema = Yup.object().shape({\r\n    mail: Yup.string().email(\"Email Invalido\").required(\"Email requerido\"),\r\n    password: Yup.string()\r\n      .min(2, \"Muy corta\")\r\n      .max(50, \"Muy larga\")\r\n      .required(\"Password requerida\"),\r\n  });\r\n  const dispatch = useAuthDispatch();\r\n\r\n  async function userLog(values) {\r\n    try {\r\n      let response = await axios.post(\"http://challenge-react.alkemy.org/\", {\r\n        email: values.mail,\r\n        password: values.password,\r\n      });\r\n      if (response.status !== 200) {\r\n        throw new Error(`Ocurrio un error`);\r\n      }\r\n      if (!response.data) {\r\n        throw new Error(\"Empty Token\");\r\n      }\r\n\r\n      let base64Results = response.data.token.split(\".\");\r\n      if (base64Results.length !== 3) {\r\n        throw new Error(\"Malformed Token\");\r\n      }\r\n      var token = response.data.token;\r\n      dispatch({ type: \"LOGIN\", payload: { token: token } });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Superhero</h1>\r\n      <Formik\r\n        initialValues={{ mail: \"\", password: \"\" }}\r\n        validationSchema={SignupSchema}\r\n        onSubmit={(values) => userLog(values)}\r\n      >\r\n        {({ errors, touched }) => (\r\n          <Form>\r\n            <Field name=\"mail\" type=\"email\" placeholder=\"Email\" />\r\n            {errors.mail && touched.mail ? <div>{errors.mail}</div> : null}\r\n            <Field name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n            {errors.password && touched.password ? (\r\n              <div>{errors.password}</div>\r\n            ) : null}\r\n            <button type=\"submit\">Submit</button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Home() {\r\n  return <div>Es el Home</div>;\r\n}\r\n","import React from \"react\";\r\nimport { Button, Container, Nav, Navbar } from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useAuthDispatch } from \"../../service/Auth\";\r\nimport \"./style.css\";\r\n\r\nexport default function Header() {\r\n  const authDispatch = useAuthDispatch();\r\n  return (\r\n    <Navbar bg=\"primary\" variant=\"dark\">\r\n      <Container>\r\n        <Navbar.Brand href=\"/\">Super Héroes</Navbar.Brand>\r\n        <Nav className=\"justify-content-end\">\r\n          <NavLink exact className=\"link\" activeClassName=\"active\" to=\"/\">\r\n            Home\r\n          </NavLink>\r\n          <NavLink className=\"link\" activeClassName=\"active\" to=\"/searcher\">\r\n            Buscador\r\n          </NavLink>\r\n          <Button\r\n            size=\"sm\"\r\n            variant=\"warning\"\r\n            type=\"button\"\r\n            onClick={() => authDispatch({ type: \"LOGOUT\" })}\r\n          >\r\n            Cerrar sesión\r\n          </Button>\r\n        </Nav>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n","import { Button } from \"react-bootstrap\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Searcher() {\r\n  const SearchSchema = Yup.object().shape({\r\n    search: Yup.string()\r\n      .min(2, \"Ingrese al menos 3 caracteres para la busqueda\")\r\n      .required(\"campo requerido para la Busqueda\"),\r\n  });\r\n\r\n  async function searchHeroe(value) {\r\n    let baseURL = \"https://superheroapi.com/api/4912475925446355\";\r\n    let resp = await axios.get(`${baseURL}/search/${value.search}`);\r\n    if (resp.status === 200) {\r\n      console.log(resp);\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      es el Buscador\r\n      <Formik\r\n        validationSchema={SearchSchema}\r\n        initialValues={{ search: \"\" }}\r\n        onSubmit={(value) => {\r\n          searchHeroe(value);\r\n        }}\r\n      >\r\n        {({ errors, touched }) => (\r\n          <Form>\r\n            <Field name=\"search\" />\r\n            <Button type=\"submit\" size=\"sm\" variant=\"primary\">\r\n              Buscar\r\n            </Button>\r\n            {errors.search && touched.search && (\r\n              <div className=\"text-danger\">{errors.search}</div>\r\n            )}\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n","import { useAuthState } from \"./service/Auth\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\nimport Header from \"./components/Header\";\nimport Searcher from \"./components/Searcher\";\n\nfunction App() {\n  const { isAuthenticated } = useAuthState();\n  if (isAuthenticated) {\n    return (\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/searcher\">\n            <Searcher />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    );\n  } else {\n    return <Login />;\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { AuthProvider } from \"./service/Auth\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}